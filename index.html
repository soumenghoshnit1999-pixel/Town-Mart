<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Town Mart - Advanced</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Segoe UI;}
body{background:#f1f3f6;color:#212121;transition:0.3s;}
.dark{background:#121212;color:#fff;}
.container{padding:30px 6%;}

/* NAVBAR */
.navbar{
background:#2874f0;color:#fff;
display:flex;justify-content:space-between;align-items:center;
padding:12px 6%;position:sticky;top:0;z-index:1000;
}
.logo{font-size:22px;font-weight:bold;}
.search-bar input{
padding:8px 12px;width:300px;border:none;border-radius:4px;
}
.nav-links span{margin-left:15px;cursor:pointer;font-weight:500;}
.badge{background:red;color:#fff;padding:2px 6px;border-radius:50%;font-size:12px;}

/* HERO */
.hero{
height:300px;background:linear-gradient(rgba(0,0,0,.5),rgba(0,0,0,.5)),
url('images/banner1.png') center/cover;
display:flex;align-items:center;justify-content:center;color:#fff;text-align:center;
}
.hero button{margin-top:15px;padding:10px 20px;border:none;background:#fb641b;color:#fff;cursor:pointer;border-radius:4px;}

/* GRID */
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:20px;margin-top:30px;}
.card{
background:#fff;padding:15px;border-radius:8px;position:relative;
transition:.3s;cursor:pointer;
}
.dark .card{background:#1e1e1e;}
.card:hover{transform:translateY(-5px);box-shadow:0 6px 20px rgba(0,0,0,.15);}
.card img{width:100%;height:150px;object-fit:contain;}
.discount{position:absolute;top:10px;left:10px;background:#d32f2f;color:#fff;font-size:11px;padding:3px 6px;border-radius:4px;}
.price{font-weight:bold;margin:5px 0;}
.old{text-decoration:line-through;color:gray;font-size:13px;margin-left:5px;}
.rating{color:#ff9f00;font-size:13px;}
.actions{display:flex;justify-content:space-between;margin-top:8px;}
button{cursor:pointer}

/* DRAWER */
.drawer{
position:fixed;right:-400px;top:0;width:350px;height:100%;
background:#fff;box-shadow:-5px 0 20px rgba(0,0,0,.2);
padding:20px;transition:.3s;overflow:auto;z-index:2000;
}
.dark .drawer{background:#1e1e1e;}
.drawer.active{right:0;}
.drawer h3{margin-bottom:10px;}
.cart-item{display:flex;justify-content:space-between;margin-bottom:10px;font-size:14px;}
.total{font-weight:bold;margin-top:10px;}

/* MODAL */
.modal{
position:fixed;top:0;left:0;width:100%;height:100%;
background:rgba(0,0,0,.6);display:none;
align-items:center;justify-content:center;z-index:3000;
}
.modal-content{
background:#fff;padding:25px;border-radius:8px;width:300px;
}
.dark .modal-content{background:#1e1e1e;}
.modal input{width:100%;padding:8px;margin:5px 0;}
.close{float:right;cursor:pointer;font-weight:bold;}

footer{text-align:center;padding:20px;background:#172337;color:#fff;margin-top:40px;}

@media(max-width:768px){
.search-bar input{width:100%;}
.navbar{flex-direction:column;gap:10px;}
}
</style>
</head>

<body>

<!-- NAVBAR -->
<div class="navbar">
<div class="logo">TownMart</div>

<div class="search-bar">
<input type="text" id="search" placeholder="Search products...">
</div>

<div class="nav-links">
<span onclick="toggleDark()">üåô</span>
<span onclick="openLogin()">Login</span>
<span onclick="openWishlist()">‚ù§Ô∏è <span id="wishCount" class="badge">0</span></span>
<span onclick="openCart()">üõí <span id="cartCount" class="badge">0</span></span>
</div>
</div>

<!-- HERO -->
<div class="hero">
<div>
<h1>Big Grocery Sale</h1>
<button onclick="scrollToProducts()">Shop Now</button>
</div>
</div>

<!-- PRODUCTS -->
<div class="container">
<div class="grid" id="productGrid"></div>
</div>

<!-- CART DRAWER -->
<div class="drawer" id="cartDrawer">
<h3>Your Cart</h3>
<div id="cartItems"></div>
<div class="total">Total: ‚Çπ<span id="totalPrice">0</span></div>
<button onclick="checkout()">Checkout</button>
</div>

<!-- LOGIN MODAL -->
<div class="modal" id="loginModal">
<div class="modal-content">
<span class="close" onclick="closeLogin()">X</span>
<h3>Login</h3>
<input placeholder="Email">
<input placeholder="Password" type="password">
<button style="width:100%;margin-top:10px;">Login</button>
</div>
</div>

<script>

const products=[
{name:"Basmati Rice 1kg",price:150,old:200,img:"images/basmati.jfif"},
{name:"Mustard Oil 1L",price:140,old:180,img:"images/mustard-oil.jfif"},
{name:"Turmeric Powder",price:30,old:45,img:"images/turmeric.jfif"},
{name:"Amul Milk 1L",price:60,old:75,img:"images/amul.jfif"}
];

let cart=[],wishlist=[];

const grid=document.getElementById("productGrid");

function renderProducts(list){
grid.innerHTML="";
list.forEach((p,i)=>{
let discount=Math.round((p.old-p.price)/p.old*100);
grid.innerHTML+=`
<div class="card">
<div class="discount">${discount}% OFF</div>
<img src="${p.img}">
<h4>${p.name}</h4>
<div class="rating">‚≠ê‚≠ê‚≠ê‚≠ê‚òÜ</div>
<div class="price">‚Çπ${p.price}<span class="old">‚Çπ${p.old}</span></div>
<div class="actions">
<button onclick="addCart(${i})">Add</button>
<button onclick="addWish(${i})">‚ù§Ô∏è</button>
</div>
</div>`;
});
}

renderProducts(products);

/* SEARCH */
document.getElementById("search").addEventListener("input",e=>{
let val=e.target.value.toLowerCase();
renderProducts(products.filter(p=>p.name.toLowerCase().includes(val)));
});

/* CART */
function addCart(i){
cart.push(products[i]);
updateCart();
}
function updateCart(){
document.getElementById("cartCount").innerText=cart.length;
let html="",total=0;
cart.forEach(p=>{
html+=`<div class="cart-item">${p.name}<span>‚Çπ${p.price}</span></div>`;
total+=p.price;
});
document.getElementById("cartItems").innerHTML=html;
document.getElementById("totalPrice").innerText=total;
}
function openCart(){document.getElementById("cartDrawer").classList.toggle("active");}

/* WISHLIST */
function addWish(i){
wishlist.push(products[i]);
document.getElementById("wishCount").innerText=wishlist.length;
}

/* LOGIN */
function openLogin(){document.getElementById("loginModal").style.display="flex";}
function closeLogin(){document.getElementById("loginModal").style.display="none";}

/* CHECKOUT */
function checkout(){
alert("Order Placed Successfully üéâ");
cart=[];
updateCart();
openCart();
}

/* DARK MODE */
function toggleDark(){
document.body.classList.toggle("dark");
}

/* SCROLL */
function scrollToProducts(){
window.scrollTo({top:400,behavior:"smooth"});
}

</script>

<footer>
¬© 2026 Town Mart | Designed by Soumen
</footer>

</body>
</html>
